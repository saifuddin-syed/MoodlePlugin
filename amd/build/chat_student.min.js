define("local_automation/chat_student",["jquery"],(function($){let config=null;return{initConfig:function(cfg){config=cfg},saveMessageToDB:function(message,sender){if(config&&config.currentcourseid)return $.ajax({url:M.cfg.wwwroot+"/local/automation/student_ajax.php",method:"POST",dataType:"json",data:{action:"save_message",courseid:config.currentcourseid,message:message,sender:sender,sesskey:M.cfg.sesskey}});console.error("Student config not initialized")},loadHistory:function(appendMessage){config&&config.currentcourseid?$.ajax({url:M.cfg.wwwroot+"/local/automation/student_ajax.php",method:"POST",data:{action:"fetch_history",courseid:config.currentcourseid,sesskey:M.cfg.sesskey},success:function(res){"string"==typeof res&&(res=JSON.parse(res)),$("#chatbot-messages").empty(),res.forEach((msg=>{appendMessage(msg.message,msg.sender,parseInt(msg.timecreated),!1)}))}}):console.error("Student config not initialized")},insertDummyQuiz:function(){if(config&&config.currentcourseid)return $.ajax({url:M.cfg.wwwroot+"/local/automation/student_ajax.php",method:"POST",data:{action:"insert_dummy_quiz",courseid:config.currentcourseid,sesskey:M.cfg.sesskey}});console.error("Student config not initialized")},askRAG:function(message){return $.ajax({url:M.cfg.wwwroot+"/local/automation/student_ajax.php",method:"POST",dataType:"json",data:{action:"ask_rag",courseid:config.currentcourseid,question:message,sesskey:M.cfg.sesskey}})}}}));

//# sourceMappingURL=chat_student.min.js.map